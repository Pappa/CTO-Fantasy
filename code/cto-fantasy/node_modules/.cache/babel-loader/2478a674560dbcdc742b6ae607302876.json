{"ast":null,"code":"import Phaser from \"phaser\";\nimport * as theme from \"../theme\";\nexport class JobOffer extends Phaser.GameObjects.Container {\n  constructor(scene, x = 0, y = 0, content, dataObj, callback) {\n    super(scene, x, y);\n\n    this.updateButton = texture => {\n      this.button.setTexture(texture);\n    };\n\n    this.callback = callback; // console.log(\"CompanyMenu:preload\");\n    // this.form = this.scene.add.dom(300, 400).createFromCache(\"vacancy\");\n    // this.form.setOrigin(0.5);\n    // this.form.setPerspective(800);\n    // this.form.addListener(\"click\");\n    // console.log(\"CompanyMenu:create\");\n    // const name = this.form.getChildByName(\"company-name\");\n    // const description = this.form.getChildByName(\"company-description\");\n    // const submit = this.form.getChildByName(\"submit\");\n    // TODO: figure out solution to race condition here\n    // name is null briefly\n    // name.setText(this.company.name);\n    // description.setText(this.company.description);\n    // submit.setText(\"Accept Job Offer\");\n    // console.log(\"name\", name);\n\n    this.setSize(100, 150);\n    this.card = this.scene.add.image(0, 0, \"card\").setOrigin(0.5, 0);\n    this.createText(content);\n    this.createButton(dataObj, content);\n    this.add([this.card, this.title, this.text, this.button, this.buttonText]);\n    this.scene.add.existing(this);\n  }\n\n  createText(content) {\n    this.title = this.scene.add.text(0, 15, content.title, theme.cardTitle).setOrigin(0.5, 0);\n    this.text = this.scene.add.text(0, 40, content.text, theme.cardText).setOrigin(0.5, 0);\n  }\n\n  createButton(dataObj, content) {\n    this.button = this.scene.add.image(0, 155, \"button\");\n    this.button.setScale(0.5).setOrigin(0.5, 0).setInteractive();\n    this.button.on(\"pointerover\", this.updateButton.bind(this, \"button_hover\"));\n    this.button.on(\"pointerdown\", this.updateButton.bind(this, \"button_click\"));\n    this.button.on(\"pointerout\", this.updateButton.bind(this, \"button\"));\n    this.button.on(\"pointerup\", this.callback.bind(this, dataObj));\n    this.buttonText = this.scene.add.text(0, 160, content.buttonText, theme.buttonText).setOrigin(0.5, 0);\n  }\n\n}","map":{"version":3,"sources":["/Users/robhill/Projects/Pappa/cto-fantasy/src/modules/game/cto-fantasy/game-objects/JobOffer.js"],"names":["Phaser","theme","JobOffer","GameObjects","Container","constructor","scene","x","y","content","dataObj","callback","updateButton","texture","button","setTexture","setSize","card","add","image","setOrigin","createText","createButton","title","text","buttonText","existing","cardTitle","cardText","setScale","setInteractive","on","bind"],"mappings":"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","sourcesContent":["import Phaser from \"phaser\";\nimport * as theme from \"../theme\";\n\nexport class JobOffer extends Phaser.GameObjects.Container {\n  constructor(scene, x = 0, y = 0, content, dataObj, callback) {\n    super(scene, x, y);\n\n    this.callback = callback;\n\n    // console.log(\"CompanyMenu:preload\");\n    // this.form = this.scene.add.dom(300, 400).createFromCache(\"vacancy\");\n    // this.form.setOrigin(0.5);\n    // this.form.setPerspective(800);\n    // this.form.addListener(\"click\");\n\n    // console.log(\"CompanyMenu:create\");\n    // const name = this.form.getChildByName(\"company-name\");\n    // const description = this.form.getChildByName(\"company-description\");\n    // const submit = this.form.getChildByName(\"submit\");\n\n    // TODO: figure out solution to race condition here\n    // name is null briefly\n    // name.setText(this.company.name);\n    // description.setText(this.company.description);\n    // submit.setText(\"Accept Job Offer\");\n\n    // console.log(\"name\", name);\n    this.setSize(100, 150);\n\n    this.card = this.scene.add.image(0, 0, \"card\").setOrigin(0.5, 0);\n\n    this.createText(content);\n    this.createButton(dataObj, content);\n\n    this.add([this.card, this.title, this.text, this.button, this.buttonText]);\n    this.scene.add.existing(this);\n  }\n\n  createText(content) {\n    this.title = this.scene.add\n      .text(0, 15, content.title, theme.cardTitle)\n      .setOrigin(0.5, 0);\n    this.text = this.scene.add\n      .text(0, 40, content.text, theme.cardText)\n      .setOrigin(0.5, 0);\n  }\n\n  createButton(dataObj, content) {\n    this.button = this.scene.add.image(0, 155, \"button\");\n    this.button.setScale(0.5).setOrigin(0.5, 0).setInteractive();\n    this.button.on(\"pointerover\", this.updateButton.bind(this, \"button_hover\"));\n    this.button.on(\"pointerdown\", this.updateButton.bind(this, \"button_click\"));\n    this.button.on(\"pointerout\", this.updateButton.bind(this, \"button\"));\n    this.button.on(\"pointerup\", this.callback.bind(this, dataObj));\n    this.buttonText = this.scene.add\n      .text(0, 160, content.buttonText, theme.buttonText)\n      .setOrigin(0.5, 0);\n  }\n\n  updateButton = (texture) => {\n    this.button.setTexture(texture);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}