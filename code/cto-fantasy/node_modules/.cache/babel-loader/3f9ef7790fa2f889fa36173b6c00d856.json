{"ast":null,"code":"import { State } from \"../State\";\nexport class SprintResultsState extends State {\n  constructor(machine, card, results, onClose) {\n    super(machine);\n    this.card = card;\n    this.results = results;\n    this.onClose = onClose;\n  }\n\n  enter() {\n    const {\n      commitment,\n      velocity\n    } = this.results;\n    const success = velocity / commitment * 100;\n    const fail = 100 - success;\n    this.card.getChildByID(\"description\").textContent = `The team achieved ${this.results.velocity} points this sprint.`;\n    this.card.getChildByID(\"success\").style.width = `${success}px`;\n    this.card.getChildByID(\"fail\").style.width = `${fail}px`;\n    this.close = this.card.getChildByID(\"close\");\n    this.close.addEventListener(\"click\", this.handleClick.bind(this));\n    this.card.setVisible(true);\n  }\n\n  exit() {\n    this.card.setVisible(false);\n  }\n\n  handleClick(e) {\n    e.stopPropagation();\n    console.log(\"Calling onClose from SprintResultsState\");\n    this.onClose();\n  }\n\n}","map":{"version":3,"sources":["/Users/robhill/Projects/Pappa/cto-fantasy/src/modules/game/cto-fantasy/classes/states/sprint/SprintResultsState.js"],"names":["State","SprintResultsState","constructor","machine","card","results","onClose","enter","commitment","velocity","success","fail","getChildByID","textContent","style","width","close","addEventListener","handleClick","bind","setVisible","exit","e","stopPropagation","console","log"],"mappings":"AAAA,SAASA,KAAT,QAAsB,UAAtB;AAEA,OAAO,MAAMC,kBAAN,SAAiCD,KAAjC,CAAuC;AAE5CE,EAAAA,WAAW,CAACC,OAAD,EAAUC,IAAV,EAAgBC,OAAhB,EAAyBC,OAAzB,EAAkC;AAC3C,UAAMH,OAAN;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,OAAL,GAAeA,OAAf;AACD;;AAEDC,EAAAA,KAAK,GAAG;AACN,UAAM;AAAEC,MAAAA,UAAF;AAAcC,MAAAA;AAAd,QAA2B,KAAKJ,OAAtC;AACA,UAAMK,OAAO,GAAID,QAAQ,GAAGD,UAAZ,GAA0B,GAA1C;AACA,UAAMG,IAAI,GAAG,MAAMD,OAAnB;AACA,SAAKN,IAAL,CAAUQ,YAAV,CACE,aADF,EAEEC,WAFF,GAEiB,qBAAoB,KAAKR,OAAL,CAAaI,QAAS,sBAF3D;AAGA,SAAKL,IAAL,CAAUQ,YAAV,CAAuB,SAAvB,EAAkCE,KAAlC,CAAwCC,KAAxC,GAAiD,GAAEL,OAAQ,IAA3D;AACA,SAAKN,IAAL,CAAUQ,YAAV,CAAuB,MAAvB,EAA+BE,KAA/B,CAAqCC,KAArC,GAA8C,GAAEJ,IAAK,IAArD;AACA,SAAKK,KAAL,GAAa,KAAKZ,IAAL,CAAUQ,YAAV,CAAuB,OAAvB,CAAb;AACA,SAAKI,KAAL,CAAWC,gBAAX,CAA4B,OAA5B,EAAqC,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAArC;AACA,SAAKf,IAAL,CAAUgB,UAAV,CAAqB,IAArB;AACD;;AAEDC,EAAAA,IAAI,GAAG;AACL,SAAKjB,IAAL,CAAUgB,UAAV,CAAqB,KAArB;AACD;;AAEDF,EAAAA,WAAW,CAACI,CAAD,EAAI;AACbA,IAAAA,CAAC,CAACC,eAAF;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;AACA,SAAKnB,OAAL;AACD;;AA/B2C","sourcesContent":["import { State } from \"../State\";\n\nexport class SprintResultsState extends State {\n  card;\n  constructor(machine, card, results, onClose) {\n    super(machine);\n    this.card = card;\n    this.results = results;\n    this.onClose = onClose;\n  }\n\n  enter() {\n    const { commitment, velocity } = this.results;\n    const success = (velocity / commitment) * 100;\n    const fail = 100 - success;\n    this.card.getChildByID(\n      \"description\"\n    ).textContent = `The team achieved ${this.results.velocity} points this sprint.`;\n    this.card.getChildByID(\"success\").style.width = `${success}px`;\n    this.card.getChildByID(\"fail\").style.width = `${fail}px`;\n    this.close = this.card.getChildByID(\"close\");\n    this.close.addEventListener(\"click\", this.handleClick.bind(this));\n    this.card.setVisible(true);\n  }\n\n  exit() {\n    this.card.setVisible(false);\n  }\n\n  handleClick(e) {\n    e.stopPropagation();\n    console.log(\"Calling onClose from SprintResultsState\");\n    this.onClose();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}