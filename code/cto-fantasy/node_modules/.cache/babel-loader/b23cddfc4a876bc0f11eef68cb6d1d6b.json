{"ast":null,"code":"import Phaser from \"phaser\";\nimport * as theme from \"../theme\";\nexport class JobOffer extends Phaser.GameObjects.Container {\n  constructor(scene, x = 0, y = 0, company, callback) {\n    super(scene, x, y);\n\n    this.updateButton = texture => {\n      this.button.setTexture(texture);\n    };\n\n    this.scene = scene;\n    this.company = company;\n    this.callback = callback; // console.log(\"CompanyMenu:preload\");\n    // this.form = this.scene.add.dom(300, 400).createFromCache(\"vacancy\");\n    // this.form.setOrigin(0.5);\n    // this.form.setPerspective(800);\n    // this.form.addListener(\"click\");\n    // console.log(\"CompanyMenu:create\");\n    // const name = this.form.getChildByName(\"company-name\");\n    // const description = this.form.getChildByName(\"company-description\");\n    // const submit = this.form.getChildByName(\"submit\");\n    // TODO: figure out solution to race condition here\n    // name is null briefly\n    // name.setText(this.company.name);\n    // description.setText(this.company.description);\n    // submit.setText(\"Accept Job Offer\");\n    // console.log(\"name\", name);\n\n    this.card = this.scene.add.image(0, 0, \"card\");\n    this.title = this.scene.add.text(0, 15, this.company.name, {\n      font: \"14px Open Sans\",\n      fill: \"#000000\"\n    }).setOrigin(0.5, 0);\n    this.description = this.scene.add.text(0, 40, this.company.description, {\n      font: \"12px Open Sans\",\n      fill: \"#000000\",\n      wordWrap: {\n        width: 100\n      }\n    }).setOrigin(0.5, 0);\n    this.button = this.scene.add.image(0, 155, \"button\");\n    this.acceptText = this.scene.add.text(0, 160, \"Accept Job Offer\", theme.buttonText).setOrigin(0.5, 0);\n    this.card.setOrigin(0.5, 0);\n    this.button.setScale(0.5).setOrigin(0.5, 0).setInteractive();\n    this.button.on(\"pointerover\", this.updateButton.bind(this, \"button_hover\"));\n    this.button.on(\"pointerdown\", this.updateButton.bind(this, \"button_click\"));\n    this.button.on(\"pointerout\", this.updateButton.bind(this, \"button\"));\n    this.button.on(\"pointerup\", this.callback.bind(this, company));\n    this.setSize(100, 150);\n    this.add([this.card, this.title, this.description, this.button, this.acceptText]);\n    this.scene.add.existing(this);\n  }\n\n  createButton(text) {}\n\n}","map":{"version":3,"sources":["/Users/robhill/Projects/Pappa/cto-fantasy/src/modules/game/cto-fantasy/game-objects/JobOffer.js"],"names":["Phaser","theme","JobOffer","GameObjects","Container","constructor","scene","x","y","company","callback","updateButton","texture","button","setTexture","card","add","image","title","text","name","font","fill","setOrigin","description","wordWrap","width","acceptText","buttonText","setScale","setInteractive","on","bind","setSize","existing","createButton"],"mappings":"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","sourcesContent":["import Phaser from \"phaser\";\nimport * as theme from \"../theme\";\n\nexport class JobOffer extends Phaser.GameObjects.Container {\n  constructor(scene, x = 0, y = 0, company, callback) {\n    super(scene, x, y);\n\n    this.scene = scene;\n    this.company = company;\n    this.callback = callback;\n\n    // console.log(\"CompanyMenu:preload\");\n    // this.form = this.scene.add.dom(300, 400).createFromCache(\"vacancy\");\n    // this.form.setOrigin(0.5);\n    // this.form.setPerspective(800);\n    // this.form.addListener(\"click\");\n\n    // console.log(\"CompanyMenu:create\");\n    // const name = this.form.getChildByName(\"company-name\");\n    // const description = this.form.getChildByName(\"company-description\");\n    // const submit = this.form.getChildByName(\"submit\");\n\n    // TODO: figure out solution to race condition here\n    // name is null briefly\n    // name.setText(this.company.name);\n    // description.setText(this.company.description);\n    // submit.setText(\"Accept Job Offer\");\n\n    // console.log(\"name\", name);\n\n    this.card = this.scene.add.image(0, 0, \"card\");\n    this.title = this.scene.add\n      .text(0, 15, this.company.name, {\n        font: \"14px Open Sans\",\n        fill: \"#000000\",\n      })\n      .setOrigin(0.5, 0);\n    this.description = this.scene.add\n      .text(0, 40, this.company.description, {\n        font: \"12px Open Sans\",\n        fill: \"#000000\",\n        wordWrap: { width: 100 },\n      })\n      .setOrigin(0.5, 0);\n    this.button = this.scene.add.image(0, 155, \"button\");\n    this.acceptText = this.scene.add\n      .text(0, 160, \"Accept Job Offer\", theme.buttonText)\n      .setOrigin(0.5, 0);\n\n    this.card.setOrigin(0.5, 0);\n    this.button.setScale(0.5).setOrigin(0.5, 0).setInteractive();\n\n    this.button.on(\"pointerover\", this.updateButton.bind(this, \"button_hover\"));\n    this.button.on(\"pointerdown\", this.updateButton.bind(this, \"button_click\"));\n    this.button.on(\"pointerout\", this.updateButton.bind(this, \"button\"));\n    this.button.on(\"pointerup\", this.callback.bind(this, company));\n\n    this.setSize(100, 150);\n\n    this.add([\n      this.card,\n      this.title,\n      this.description,\n      this.button,\n      this.acceptText,\n    ]);\n\n    this.scene.add.existing(this);\n  }\n\n  createButton(text) {}\n\n  updateButton = (texture) => {\n    this.button.setTexture(texture);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}