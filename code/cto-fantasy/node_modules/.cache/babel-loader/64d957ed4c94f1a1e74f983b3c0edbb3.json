{"ast":null,"code":"import Phaser from \"phaser\";\nimport { Button } from \"./Button\";\nimport * as theme from \"../theme\";\nexport class Card extends Phaser.GameObjects.Container {\n  constructor(scene, x = 0, y = 0, content, callback) {\n    super(scene, x, y);\n    this.form = this.scene.add.dom(300, 400).createFromCache(\"vacancy\");\n    this.form.setOrigin(0.5);\n    this.form.setPerspective(800);\n    this.form.addListener(\"click\");\n    this.form.on(\"onload\", () => {\n      console.log(\"onload\");\n      const name = this.form.getChildByName(\"company-name\");\n      const description = this.form.getChildByName(\"company-description\");\n      const submit = this.form.getChildByName(\"submit\"); //TODO: figure out solution to race condition here\n      //name is null briefly\n\n      name.setText(this.company.name);\n      description.setText(this.company.description);\n      submit.setText(\"Accept Job Offer\");\n    }); // console.log(\"name\", name);\n\n    this.setSize(100, 150);\n    this.card = this.scene.add.image(0, 0, \"card\").setOrigin(0.5, 0);\n    this.createText(content);\n    this.add([this.card, this.title, this.text]);\n\n    if (callback) {\n      this.createButton(content, callback);\n    }\n\n    this.scene.add.existing(this);\n  }\n\n  createText(content) {\n    this.title = this.scene.add.text(0, 15, content.title, theme.cardTitle).setOrigin(0.5, 0);\n    this.text = this.scene.add.text(0, 40, content.text, theme.cardText).setOrigin(0.5, 0);\n  }\n\n  createButton(content, callback) {\n    this.button = this.scene.add.existing(new Button(this.scene, 0, 155, content, callback));\n    this.add(this.button);\n  }\n\n}","map":{"version":3,"sources":["/Users/robhill/Projects/Pappa/cto-fantasy/src/modules/game/cto-fantasy/game-objects/Card.js"],"names":["Phaser","Button","theme","Card","GameObjects","Container","constructor","scene","x","y","content","callback","form","add","dom","createFromCache","setOrigin","setPerspective","addListener","on","console","log","name","getChildByName","description","submit","setText","company","setSize","card","image","createText","title","text","createButton","existing","cardTitle","cardText","button"],"mappings":"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","sourcesContent":["import Phaser from \"phaser\";\nimport { Button } from \"./Button\";\nimport * as theme from \"../theme\";\n\nexport class Card extends Phaser.GameObjects.Container {\n  constructor(scene, x = 0, y = 0, content, callback) {\n    super(scene, x, y);\n\n    this.form = this.scene.add.dom(300, 400).createFromCache(\"vacancy\");\n    this.form.setOrigin(0.5);\n    this.form.setPerspective(800);\n    this.form.addListener(\"click\");\n    this.form.on(\"onload\", () => {\n      console.log(\"onload\");\n      const name = this.form.getChildByName(\"company-name\");\n      const description = this.form.getChildByName(\"company-description\");\n      const submit = this.form.getChildByName(\"submit\");\n\n      //TODO: figure out solution to race condition here\n      //name is null briefly\n      name.setText(this.company.name);\n      description.setText(this.company.description);\n      submit.setText(\"Accept Job Offer\");\n    });\n\n    // console.log(\"name\", name);\n    this.setSize(100, 150);\n\n    this.card = this.scene.add.image(0, 0, \"card\").setOrigin(0.5, 0);\n\n    this.createText(content);\n    this.add([this.card, this.title, this.text]);\n\n    if (callback) {\n      this.createButton(content, callback);\n    }\n\n    this.scene.add.existing(this);\n  }\n\n  createText(content) {\n    this.title = this.scene.add\n      .text(0, 15, content.title, theme.cardTitle)\n      .setOrigin(0.5, 0);\n    this.text = this.scene.add\n      .text(0, 40, content.text, theme.cardText)\n      .setOrigin(0.5, 0);\n  }\n\n  createButton(content, callback) {\n    this.button = this.scene.add.existing(\n      new Button(this.scene, 0, 155, content, callback)\n    );\n    this.add(this.button);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}