{"ast":null,"code":"import Phaser from \"phaser\";\nimport { Button } from \"./Button\";\nimport * as theme from \"../theme\";\nexport class Card extends Phaser.GameObjects.Container {\n  constructor(scene, x = 0, y = 0, content, callback) {\n    super(scene, x, y);\n    this.form = this.scene.add.dom(300, 400).createFromCache(\"card\");\n    this.setTitle(content.title);\n    this.setDescription(content.text);\n    this.setContent(content);\n    this.setSize(100, 150);\n    this.card = this.scene.add.image(0, 0, \"card\").setOrigin(0.5, 0);\n    this.createText(content);\n    this.add([this.card, this.title, this.text]);\n    this.setButton(content.buttonText, callback);\n    this.scene.add.existing(this);\n  }\n\n  setTitle(title) {\n    this.form.getChildByID(\"title\").textContent = title;\n  }\n\n  setDescription(description) {\n    this.form.getChildByID(\"description\").textContent = description;\n  }\n\n  setContent() {}\n\n  createText(content) {\n    this.title = this.scene.add.text(0, 15, content.title, theme.cardTitle).setOrigin(0.5, 0);\n    this.text = this.scene.add.text(0, 40, content.text, theme.cardText).setOrigin(0.5, 0);\n  }\n\n  setButton(text, callback) {\n    const button = this.form.getChildByID(\"submit\");\n    console.log(\"callback\", !!callback);\n\n    if (callback) {\n      button.textContent = text;\n      button.addEventListener(\"click\", callback);\n      this.button = this.scene.add.existing(new Button(this.scene, 0, 155, text, callback));\n      this.add(this.button);\n    } else {\n      button.style.display = \"none\";\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/robhill/Projects/Pappa/cto-fantasy/src/modules/game/cto-fantasy/game-objects/Card.js"],"names":["Phaser","Button","theme","Card","GameObjects","Container","constructor","scene","x","y","content","callback","form","add","dom","createFromCache","setTitle","title","setDescription","text","setContent","setSize","card","image","setOrigin","createText","setButton","buttonText","existing","getChildByID","textContent","description","cardTitle","cardText","button","console","log","addEventListener","style","display"],"mappings":"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","sourcesContent":["import Phaser from \"phaser\";\nimport { Button } from \"./Button\";\nimport * as theme from \"../theme\";\n\nexport class Card extends Phaser.GameObjects.Container {\n  constructor(scene, x = 0, y = 0, content, callback) {\n    super(scene, x, y);\n\n    this.form = this.scene.add.dom(300, 400).createFromCache(\"card\");\n\n    this.setTitle(content.title);\n    this.setDescription(content.text);\n    this.setContent(content);\n    this.setSize(100, 150);\n\n    this.card = this.scene.add.image(0, 0, \"card\").setOrigin(0.5, 0);\n\n    this.createText(content);\n    this.add([this.card, this.title, this.text]);\n\n    this.setButton(content.buttonText, callback);\n\n    this.scene.add.existing(this);\n  }\n\n  setTitle(title) {\n    this.form.getChildByID(\"title\").textContent = title;\n  }\n\n  setDescription(description) {\n    this.form.getChildByID(\"description\").textContent = description;\n  }\n\n  setContent() {}\n\n  createText(content) {\n    this.title = this.scene.add\n      .text(0, 15, content.title, theme.cardTitle)\n      .setOrigin(0.5, 0);\n    this.text = this.scene.add\n      .text(0, 40, content.text, theme.cardText)\n      .setOrigin(0.5, 0);\n  }\n\n  setButton(text, callback) {\n    const button = this.form.getChildByID(\"submit\");\n    console.log(\"callback\", !!callback);\n    if (callback) {\n      button.textContent = text;\n      button.addEventListener(\"click\", callback);\n      this.button = this.scene.add.existing(\n        new Button(this.scene, 0, 155, text, callback)\n      );\n      this.add(this.button);\n    } else {\n      button.style.display = \"none\";\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}